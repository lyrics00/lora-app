{% extends "base.html" %}
{% load static %}
{% block hero_content %}
<div class="container my-5">
  <h2 class="section-header-animated">Promote Patron to Librarian</h2>
  <hr>
  <form method="get" class="mb-4">
    <div class="input-group">
      <input type="text" name="q" class="form-control" placeholder="Search by username or email" value="{{ search_query }}">
      <button type="submit" class="btn btn-outline-primary">Search</button>
    </div>
  </form>
  {% if patrons %}
    <ul class="list-group">
      {% for patron in patrons %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div>
            <strong>{{ patron.username }}</strong> ({{ patron.email }})
          </div>
          <form method="post" class="mb-0">
            {% csrf_token %}
            <input type="hidden" name="user_id" value="{{ patron.pk }}">
            <button type="submit" class="btn btn-sm btn-success">Promote</button>
          </form>
        </li>
      {% endfor %}
    </ul>
  {% elif search_query %}
    <div class="alert alert-info">No patrons found matching "{{ search_query }}".</div>
  {% endif %}
</div>
{% endblock %}