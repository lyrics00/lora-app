{% extends "base.html" %}
{% block hero_content %}
<style>
  .accordion-button.bg-dark,
  .accordion-button.bg-dark:focus,
  .accordion-button.bg-dark:not(.collapsed) {
    color: #fff !important;
    background-color: #23272b !important;
    box-shadow: none;
    border-color: #444;
  }
  .accordion-button.bg-dark::after {
    filter: invert(1) grayscale(1) brightness(2);
  }
  .accordion-item.bg-dark {
    background-color: #23272b !important;
    border-color: #444 !important;
  }
  .accordion-body.bg-dark {
    background-color: #23272b !important;
    color: #fff !important;
  }
  .h2 {
    color: #fff !important;
    animation: none !important;
  }
</style>
<div class="container py-5">

  <!-- Page Header -->
  <div class="text-center mb-5">
    <h1 class="display-5 fw-bold text-white section-header-animated">ðŸ“š Frequently Asked Questions</h1>
    <p class="lead text-white">Here are answers to some of the most common questions we receive about LoRA training, uploads, and best practices.</p>
  </div>

  <!-- Search Bar -->
  <form method="get" action="{% url 'faq_page' %}" class="mb-4">
    <input type="text" name="q" value="{{ query }}" class="form-control" placeholder="Search FAQs..." />
  </form>

  <!-- FAQ Accordion -->
  <div class="row">
    <div class="col-lg-10 mx-auto">
      {% if faqs %}
        <div class="accordion bg-dark" id="faqAccordion">
          {% for i, faq in faqs %}
          <div class="accordion-item bg-dark border-secondary">
            <h2 class="accordion-header" id="heading{{ i }}">
              <button class="accordion-button bg-dark text-white {% if not forloop.first %}collapsed{% endif %}" type="button"
                      data-bs-toggle="collapse" data-bs-target="#collapse{{ i }}"
                      aria-expanded="{% if forloop.first %}true{% else %}false{% endif %}"
                      aria-controls="collapse{{ i }}">
                {{ faq.question }}
              </button>
            </h2>
            <div id="collapse{{ i }}" class="accordion-collapse collapse {% if forloop.first %}show{% endif %}"
                 aria-labelledby="heading{{ i }}" data-bs-parent="#faqAccordion">
              <div class="accordion-body bg-dark text-white">
                {{ faq.answer }}
              </div>
            </div>
          </div>
          {% endfor %}
        </div>

        <!-- Go Back to Help Button -->
        <div class="text-center mt-4">
          <a href="{% url 'help_page' %}" class="btn btn-outline-light">Go Back to Help</a>
        </div>

      {% else %}
        <p class="text-white">No FAQs matched your search. Try another keyword.</p>
      {% endif %}
    </div>
  </div>

</div>
{% endblock %}
